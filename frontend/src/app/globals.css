@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * FixFlow Design System - Global Styles
 * 
 * Color System:
 * - Primary (Amber): Actions, CTAs, brand moments
 * - Secondary (Teal): Success, positive states
 * - Accent (Violet): Blockchain/Web3, premium
 * - Gray (Stone): Text, backgrounds, borders
 * 
 * All colors WCAG AA compliant
 */

/* ============================================
   CSS Custom Properties
   ============================================ */
:root {
  /* Semantic color tokens */
  --color-text-primary: theme('colors.gray.900');
  --color-text-secondary: theme('colors.gray.600');
  --color-text-tertiary: theme('colors.gray.500');
  --color-text-inverse: white;
  
  --color-bg-primary: white;
  --color-bg-secondary: theme('colors.gray.50');
  --color-bg-tertiary: theme('colors.gray.100');
  
  --color-border-default: theme('colors.gray.200');
  --color-border-hover: theme('colors.gray.300');
  --color-border-focus: theme('colors.primary.500');
  
  /* Spacing rhythm */
  --space-unit: 4px;
  
  /* Border radius tokens */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;
  
  /* Transition tokens */
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ============================================
   Base Styles
   ============================================ */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  @apply font-sans text-gray-900 bg-gray-50;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  line-height: 1.6;
}

/* Subtle background gradient */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: 
    radial-gradient(ellipse 80% 50% at 20% 0%, theme('colors.primary.100 / 0.4') 0%, transparent 50%),
    radial-gradient(ellipse 60% 50% at 80% 100%, theme('colors.secondary.100 / 0.3') 0%, transparent 50%);
  pointer-events: none;
  z-index: -1;
}

/* Focus visible - WCAG compliant */
*:focus-visible {
  outline: 2px solid theme('colors.primary.500');
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: theme('colors.primary.200');
  color: theme('colors.primary.900');
}

/* ============================================
   Typography
   ============================================ */
@layer base {
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-gray-900;
  }
  
  h1 { @apply text-4xl sm:text-5xl md:text-6xl font-bold; }
  h2 { @apply text-3xl sm:text-4xl font-bold; }
  h3 { @apply text-2xl sm:text-3xl; }
  h4 { @apply text-xl sm:text-2xl; }
  
  p {
    @apply text-gray-600 leading-relaxed;
  }
  
  a {
    @apply transition-colors duration-200;
  }
  
  strong, b {
    @apply font-semibold text-gray-900;
  }
  
  code {
    @apply font-mono text-sm bg-gray-100 px-1.5 py-0.5 rounded;
  }
}

/* ============================================
   Component Classes
   ============================================ */
@layer components {
  /* ========== Cards ========== */
  .card {
    @apply bg-white rounded-2xl border border-gray-200;
    transition: box-shadow var(--duration-normal) var(--ease-out),
                border-color var(--duration-normal) var(--ease-out);
  }
  
  .card-hover {
    @apply card cursor-pointer;
  }
  
  .card-hover:hover {
    @apply border-gray-300 shadow-lg;
  }
  
  .card-elevated {
    @apply bg-white rounded-2xl shadow-md;
    border: 1px solid theme('colors.gray.100');
  }
  
  .card-elevated:hover {
    @apply shadow-xl;
  }
  
  .card-glass {
    @apply rounded-2xl;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 4px 24px -4px rgba(0, 0, 0, 0.08);
  }
  
  /* ========== Buttons ========== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-semibold
           rounded-xl select-none;
    padding: 0.625rem 1.25rem;
    transition: all var(--duration-normal) var(--ease-out);
  }
  
  .btn:focus-visible {
    @apply outline-2 outline-offset-2;
  }
  
  .btn:active:not(:disabled) {
    transform: scale(0.98);
  }
  
  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  
  /* Primary Button - High emphasis */
  .btn-primary {
    @apply btn text-white bg-primary-600;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05), 
                0 0 0 1px theme('colors.primary.600');
  }
  
  .btn-primary:hover:not(:disabled) {
    @apply bg-primary-700;
    box-shadow: 0 4px 12px -2px theme('colors.primary.500 / 0.4'),
                0 0 0 1px theme('colors.primary.700');
  }
  
  .btn-primary:focus-visible {
    outline-color: theme('colors.primary.500');
  }
  
  /* Secondary Button - Medium emphasis */
  .btn-secondary {
    @apply btn text-gray-700 bg-white border border-gray-300;
  }
  
  .btn-secondary:hover:not(:disabled) {
    @apply bg-gray-50 border-gray-400;
  }
  
  .btn-secondary:focus-visible {
    outline-color: theme('colors.gray.400');
  }
  
  /* Ghost Button - Low emphasis */
  .btn-ghost {
    @apply btn text-gray-600 bg-transparent;
  }
  
  .btn-ghost:hover:not(:disabled) {
    @apply bg-gray-100 text-gray-900;
  }
  
  /* Success/Mint Button */
  .btn-success {
    @apply btn text-white bg-secondary-600;
  }
  
  .btn-success:hover:not(:disabled) {
    @apply bg-secondary-700;
    box-shadow: 0 4px 12px -2px theme('colors.secondary.500 / 0.4');
  }
  
  /* Accent/Violet Button */
  .btn-accent {
    @apply btn text-white bg-accent-600;
  }
  
  .btn-accent:hover:not(:disabled) {
    @apply bg-accent-700;
    box-shadow: 0 4px 12px -2px theme('colors.accent.500 / 0.4');
  }
  
  /* Button Sizes */
  .btn-sm {
    @apply text-sm;
    padding: 0.5rem 0.875rem;
  }
  
  .btn-lg {
    @apply text-base;
    padding: 0.75rem 1.5rem;
  }
  
  .btn-icon {
    @apply btn p-2.5;
    aspect-ratio: 1;
  }
  
  /* ========== Inputs ========== */
  .input {
    @apply w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl
           text-gray-900 placeholder:text-gray-400;
    transition: border-color var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
  }
  
  .input:hover:not(:disabled):not(:focus) {
    @apply border-gray-400;
  }
  
  .input:focus {
    @apply border-primary-500 outline-none;
    box-shadow: 0 0 0 3px theme('colors.primary.500 / 0.15');
  }
  
  .input:disabled {
    @apply bg-gray-100 text-gray-500 cursor-not-allowed;
  }
  
  .input-error {
    @apply input border-error-500;
  }
  
  .input-error:focus {
    @apply border-error-500;
    box-shadow: 0 0 0 3px theme('colors.error.500 / 0.15');
  }
  
  .label {
    @apply block text-sm font-medium text-gray-700 mb-1.5;
  }
  
  /* ========== Badges ========== */
  .badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full
           text-xs font-semibold;
  }
  
  /* Primary badge - uses darker shade for contrast */
  .badge-primary {
    @apply badge bg-primary-100 text-primary-700;
  }
  
  /* Secondary/Success badge */
  .badge-secondary {
    @apply badge bg-secondary-100 text-secondary-700;
  }
  
  /* Accent badge */
  .badge-accent {
    @apply badge bg-accent-100 text-accent-700;
  }
  
  /* Neutral badge */
  .badge-neutral {
    @apply badge bg-gray-100 text-gray-600;
  }
  
  /* Error badge */
  .badge-error {
    @apply badge bg-error-100 text-error-700;
  }
  
  /* Success badge */
  .badge-success {
    @apply badge bg-success-100 text-success-700;
  }
  
  /* Live indicator badge */
  .badge-live {
    @apply badge-secondary;
  }
  
  .badge-live::before {
    content: '';
    @apply w-1.5 h-1.5 rounded-full bg-secondary-500;
    animation: pulse-soft 2s ease-in-out infinite;
  }
  
  /* ========== Gradient Text ========== */
  .text-gradient-primary {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, 
      theme('colors.primary.500') 0%, 
      theme('colors.primary.600') 100%);
  }
  
  .text-gradient-secondary {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, 
      theme('colors.secondary.500') 0%, 
      theme('colors.secondary.600') 100%);
  }
  
  .text-gradient-accent {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, 
      theme('colors.accent.500') 0%, 
      theme('colors.accent.600') 100%);
  }
  
  /* ========== Navigation ========== */
  .nav-link {
    @apply relative px-3 py-2 text-gray-600 font-medium rounded-lg
           transition-all duration-200;
  }
  
  .nav-link:hover {
    @apply text-gray-900 bg-gray-100;
  }
  
  .nav-link-active {
    @apply nav-link text-primary-700 bg-primary-50;
  }
  
  /* ========== Stat Cards ========== */
  .stat-card {
    @apply card p-6 relative overflow-hidden;
  }
  
  .stat-card::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-1;
  }
  
  .stat-card-primary::before {
    background: linear-gradient(90deg, 
      theme('colors.primary.400') 0%, 
      theme('colors.primary.500') 100%);
  }
  
  .stat-card-secondary::before {
    background: linear-gradient(90deg, 
      theme('colors.secondary.400') 0%, 
      theme('colors.secondary.500') 100%);
  }
  
  .stat-card-accent::before {
    background: linear-gradient(90deg, 
      theme('colors.accent.400') 0%, 
      theme('colors.accent.500') 100%);
  }
  
  /* ========== Bounty Amount ========== */
  .bounty-amount {
    @apply text-3xl sm:text-4xl font-bold text-gradient-primary;
  }
  
  /* ========== Terminal ========== */
  .terminal {
    @apply bg-gray-900 rounded-xl overflow-hidden;
    box-shadow: 0 8px 32px -8px rgba(0, 0, 0, 0.3);
  }
  
  .terminal-header {
    @apply flex items-center gap-2 px-4 py-3 bg-gray-800;
  }
  
  .terminal-dot {
    @apply w-3 h-3 rounded-full;
  }
  
  .terminal-body {
    @apply p-4 font-mono text-sm text-gray-100;
  }
  
  /* ========== Avatar ========== */
  .avatar {
    @apply relative rounded-full overflow-hidden;
    box-shadow: 0 0 0 2px white, 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .avatar-sm { @apply w-8 h-8; }
  .avatar-md { @apply w-10 h-10; }
  .avatar-lg { @apply w-14 h-14; }
  .avatar-xl { @apply w-20 h-20; }
  
  /* ========== Skeleton ========== */
  .skeleton {
    @apply bg-gray-200 rounded animate-pulse;
  }
  
  .skeleton-text { @apply skeleton h-4 w-full; }
  .skeleton-title { @apply skeleton h-6 w-3/4; }
  .skeleton-avatar { @apply skeleton rounded-full w-10 h-10; }
  
  /* ========== Divider ========== */
  .divider {
    @apply h-px bg-gray-200;
  }
  
  .divider-vertical {
    @apply w-px h-full bg-gray-200;
  }
  
  /* ========== Empty State ========== */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 px-8 text-center;
  }
  
  .empty-state-icon {
    @apply w-16 h-16 mb-6 text-gray-300;
  }
  
  .empty-state-title {
    @apply text-lg font-semibold text-gray-900 mb-2;
  }
  
  .empty-state-description {
    @apply text-gray-500 max-w-sm;
  }
  
  /* ========== Table ========== */
  .table {
    @apply w-full text-left;
  }
  
  .table th {
    @apply px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider
           bg-gray-50 border-b border-gray-200;
  }
  
  .table td {
    @apply px-4 py-4 text-sm text-gray-700 border-b border-gray-100;
  }
  
  .table tbody tr:hover {
    @apply bg-gray-50;
  }
  
  /* ========== Progress ========== */
  .progress {
    @apply w-full h-2 bg-gray-200 rounded-full overflow-hidden;
  }
  
  .progress-fill {
    @apply h-full rounded-full transition-all duration-500;
  }
  
  .progress-fill-primary {
    @apply progress-fill bg-primary-500;
  }
  
  .progress-fill-secondary {
    @apply progress-fill bg-secondary-500;
  }
  
  .progress-fill-accent {
    @apply progress-fill bg-accent-500;
  }
  
  /* ========== Tooltip ========== */
  .tooltip {
    @apply relative;
  }
  
  .tooltip::before {
    content: attr(data-tooltip);
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2
           px-3 py-1.5 text-xs font-medium text-white
           bg-gray-900 rounded-lg whitespace-nowrap
           opacity-0 invisible pointer-events-none
           transition-all duration-200;
  }
  
  .tooltip:hover::before {
    @apply opacity-100 visible;
  }
}

/* ============================================
   Utility Classes
   ============================================ */
@layer utilities {
  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Thin scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.gray.300') transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: theme('colors.gray.300');
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.gray.400');
  }
  
  /* Glass effect */
  .glass {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }
  
  /* Animation delays */
  .delay-75 { animation-delay: 75ms; }
  .delay-100 { animation-delay: 100ms; }
  .delay-150 { animation-delay: 150ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  
  /* Safe area insets */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  /* Line clamp */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ============================================
   Animations
   ============================================ */
@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Page transitions */
.page-enter {
  animation: fadeInUp 0.4s ease-out forwards;
}

/* Staggered list animations */
.stagger-children > * {
  opacity: 0;
  animation: fadeInUp 0.4s ease-out forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   Print Styles
   ============================================ */
@media print {
  .no-print {
    display: none !important;
  }
  
  body::before {
    display: none;
  }
  
  .card, .card-glass, .card-elevated {
    box-shadow: none;
    border: 1px solid #e7e5e4;
  }
}